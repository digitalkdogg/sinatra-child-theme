class News{constructor(){var e=this;this.vars={data:{}},this.fn={init:function(){$(".si-news-entry").css({"min-height":$(window).height()-406+"px"});$(".si-news-entry");0<$(".si-news-entry").find(".wp-block-cover").length&&$(".si-news-entry").find(".wp-block-cover").find(".wp-block-cover__inner-container"),$.ajax({url:"../index.php/wp-json/cc/v1/latest-cc",type:"GET",data:{},success:function(t){e.vars.data=t;var n=$(".si-news-entry");0<$(".si-news-entry").find(".wp-block-cover").length&&(n=$(".si-news-entry").find(".wp-block-cover").find(".wp-block-cover__inner-container")),$("<div />",{id:"cc_wrapper",class:"margin-l-r-20-desktop-per"}).prependTo(n),$.each(t,function(t,i){var a=this;e.vars.data[t]=a.content,$("<div />",{id:this.cc_id,class:"space-between flex form-row","data-index":t}).appendTo($(n).find("#cc_wrapper")),$("<h3 />",{class:"title",text:this.title}).appendTo($(n).find("#"+this.cc_id+".form-row")),$("<div />",{class:"href-wrap"}).appendTo($(n).find("#"+this.cc_id+".form-row")),$("<a />",{class:"activate-modal","data-href":this.permalink_url,"data-title":this.title,"data-index":t}).appendTo($(n).find("#"+this.cc_id+".form-row").find(".href-wrap")),$("<button />",{class:"btn",text:"Click To View","data-index":t}).appendTo($(n).find("#"+this.cc_id+".form-row").find(".href-wrap").find("a.activate-modal")),$(n).find("#"+this.cc_id+".form-row").find(".href-wrap").find("a.activate-modal").on("click",function(){var t=$(this).attr("data-title"),i=($(this).attr("data-href"),$(this).attr("data-index")),t=($("#modal").find(".body").empty(),$("#modal").show(),$("#modal").find(".title").find("h4").text(t),$("#modal").addClass("show"),new DOMParser),n=(a.content=t.parseFromString(e.vars.data[i],"text/html"),[]);$(a.content).find("span").each(function(){$(this).removeAttr("style")}),$(a.content).find("table.galileo-ap-layout-editor").each(function(){$(this).find(".text-container.galileo-ap-content-editor").each(function(){n.push($(this))}),$(this).find(".gl-contains-image").each(function(){"Millwood logo"!=$(this).find("img").attr("alt")&&n.push($(this).find("img"))}),$(this).find(".gl-contains-social-button").each(function(){n.push($(this).find("img"))})});for(let i=0;i<n.length;i++){let t="";0==$(n[i]).html().length?1<n[i].length?$.each(n[i],function(){0<=$(this).parent().find("img").attr("src").indexOf("Galileo-SocialMedia")&&0<=$(this).parent().find("img").attr("src").indexOf("facebook")&&(t=t+'<a href = "https://www.facebook.com/millwoodchurch" target="_blank"><img src = "'+$(this).parent().find("img").attr("src")+'" /></a><br /><br />')}):"basicImage"!=$(n[i]).attr("alt")&&(t='<div class = "imgcenter">'+$(n[i]).parent().html()+"</div>"):$(n[i]).html().indexOf("Millwood Messenger")<0&&(t='<div class = "content">'+$(n[i]).html()+"</div>"),t=(t=t.replace(/ï»¿/g,"")).replace(/â€/g,'"'),$("#modal").find(".body").append(t)}}),$("#modal").find("span#x").on("click",function(){$("#modal").find(".body").empty(),$("#modal").hide()})})}})},show_modal:function(t,i){$("#modal").find(".body").empty(),$("#modal").addClass("show"),$("#modal").find(".title").find("h4").text(i),$("<iframe />",{src:t}).appendTo($("#modal").find(".body"))}}}}$(document).ready(function(){const t=new News;t.fn.init()});